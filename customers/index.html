<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Cyrille Georgel < cyrille.georgel@bluerocktel.net >">
  <link rel="canonical" href="https://bluerocktel.github.io/documentation-fr/customers/">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Customers - BlueRockTEL (FR)</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Customers";
    var mkdocs_page_input_path = "customers.md";
    var mkdocs_page_url = "/documentation-fr/customers/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> BlueRockTEL (FR)</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Intégration</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../bluerocktel_pack/">Le pack BlueRockTEL</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../bluerocktel_pack_clients/">Clients</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../bluerocktel_pack_contacts/">Contacts</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../bluerocktel_pack_coordonnees-bancaires/">Coordonnées bancaires</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">BlueRockTEL (FR)</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Customers</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="customers">Customers</h2>
<hr />
<h3 id="store-a-new-customer-test">Store a new customer (test)</h3>
<p><strong>POST /api/v1/customers</strong></p>
<h4 id="parameters">Parameters</h4>
<p>The only mandatory parameter is the name:</p>
<ul>
<li>brand_id: branding attached to this customer, default 1</li>
<li>representative_id: salesperson in charge of the customer</li>
<li>customerAccount: customerAccount, automatically created if not provided</li>
<li>accountsReference: reference in the accounting system, if different from customerAccount</li>
<li>name*: name of the customer</li>
<li>brand: trading name of the customer, if exists</li>
<li>registrationNumber: registration number of the customer</li>
<li>taxRegistrationNumber: tax registration number of the customer</li>
<li>type: type of company</li>
<li>capital: capital in your currency,</li>
<li>mainAddressLine1</li>
<li>mainAddressLine2</li>
<li>mainAddressCity</li>
<li>mainAddressCountry</li>
<li>website</li>
<li>active: boolean, default <em>true</em></li>
<li>isReseller : boolean, default <em>false</em></li>
<li>resellerLevel: integer,</li>
<li>chargeVAT: boolean, default <em>true</em> (set to <em>false</em> if you are not charging VAT to this customer)</li>
<li>applyVATAutoReverseOperators: boolean, default false (set to <em>true</em> if you apply auto-reverse for VAT for this customer on Telecom services)</li>
<li>onCallDuty: boolean, default <em>false</em> (set to <em>true</em> if the customer is under on call duty contract)</li>
<li>vip: boolean, default <em>false</em> (set to <em>true</em> if customer is vip)</li>
</ul>
<h4 id="sample-request">Sample request:</h4>
<h5 id="curl">Curl:</h5>
<pre><code>curl --request POST \
     --url 'https://bluerockteladmin.test/api/v1/customers?name=Soci%C3%A9t%C3%A9&amp;customerAccount=123456' \
     --header 'authorization: Bearer {token}'
</code></pre>

<h5 id="php">PHP:</h5>
<pre><code>&lt;?php

   $curl = curl_init();

   curl_setopt_array($curl, array(
     CURLOPT_URL =&gt; &quot;https://bluerockteladmin.test/api/v1/customers?name=Soci%C3%A9t%C3%A9&amp;customerAccount=123456&quot;,
     CURLOPT_RETURNTRANSFER =&gt; true,
     CURLOPT_ENCODING =&gt; &quot;&quot;,
     CURLOPT_MAXREDIRS =&gt; 10,
     CURLOPT_TIMEOUT =&gt; 30,
     CURLOPT_HTTP_VERSION =&gt; CURL_HTTP_VERSION_1_1,
     CURLOPT_CUSTOMREQUEST =&gt; &quot;POST&quot;,
     CURLOPT_POSTFIELDS =&gt; &quot;&quot;,
     CURLOPT_HTTPHEADER =&gt; array(
       &quot;authorization: Bearer {token}&quot;
     ),
   ));

   $response = curl_exec($curl);
   $err = curl_error($curl);

   curl_close($curl);

   if ($err) {
     echo &quot;cURL Error #:&quot; . $err;
   } else {
     echo $response;
   }
</code></pre>

<h5 id="python">Python:</h5>
<pre><code>import http.client

   conn = http.client.HTTPSConnection(&quot;bluerockteladmin.test&quot;)

   payload = &quot;&quot;

   headers = { 'authorization': &quot;Bearer {token}&quot; }

   conn.request(&quot;POST&quot;, &quot;/api/v1/customers?name=Soci%C3%A9t%C3%A9&amp;customerAccount=123456&quot;, payload, headers)

   res = conn.getresponse()
   data = res.read()

   print(data.decode(&quot;utf-8&quot;))
</code></pre>

<h4 id="response">Response:</h4>
<p>The API returns the id of the created customer:</p>
<pre><code>{
  &quot;response&quot;: 113
}
</code></pre>

<h3 id="get-a-customer-from-customer-id">Get a customer (from customer id)</h3>
<p><strong>GET /api/v1/customers/{customer}</strong></p>
<h4 id="parameters_1">Parameters:</h4>
<ul>
<li>customer*: customer id</li>
</ul>
<h4 id="sample-request_1">Sample request</h4>
<h5 id="curl_1">Curl:</h5>
<pre><code>curl --request GET \
  --url https://bluerockteladmin.test/api/v1/customers/113 \
  --header 'authorization: Bearer {token}'
</code></pre>

<h5 id="php_1">PHP:</h5>
<pre><code>&lt;?php

$curl = curl_init();

curl_setopt_array($curl, array(
  CURLOPT_URL =&gt; &quot;https://bluerockteladmin.test/api/v1/customers/113&quot;,
  CURLOPT_RETURNTRANSFER =&gt; true,
  CURLOPT_ENCODING =&gt; &quot;&quot;,
  CURLOPT_MAXREDIRS =&gt; 10,
  CURLOPT_TIMEOUT =&gt; 30,
  CURLOPT_HTTP_VERSION =&gt; CURL_HTTP_VERSION_1_1,
  CURLOPT_CUSTOMREQUEST =&gt; &quot;GET&quot;,
  CURLOPT_POSTFIELDS =&gt; &quot;&quot;,
  CURLOPT_HTTPHEADER =&gt; array(
    &quot;authorization: Bearer {token}&quot;
  ),
));

$response = curl_exec($curl);
$err = curl_error($curl);

curl_close($curl);

if ($err) {
  echo &quot;cURL Error #:&quot; . $err;
} else {
  echo $response;
}
</code></pre>

<h5 id="python_1">Python:</h5>
<pre><code>import http.client

conn = http.client.HTTPSConnection(&quot;bluerockteladmin.test&quot;)

payload = &quot;&quot;

headers = { 'authorization': &quot;Bearer {token}&quot; }

conn.request(&quot;GET&quot;, &quot;/api/v1/customers/113&quot;, payload, headers)

res = conn.getresponse()
data = res.read()

print(data.decode(&quot;utf-8&quot;))
</code></pre>

<h5 id="response_1">Response</h5>
<pre><code>{
  &quot;customer&quot;: {
    &quot;id&quot;: 113,
    &quot;brand_id&quot;: 1,
    &quot;representative_id&quot;: null,
    &quot;customerAccount&quot;: &quot;123456&quot;,
    &quot;accountsReference&quot;: null,
    &quot;name&quot;: &quot;Société&quot;,
    &quot;brand&quot;: null,
    &quot;registrationNumber&quot;: null,
    &quot;taxRegistrationNumber&quot;: null,
    &quot;mainContactFirstName&quot;: null,
    &quot;mainContactLastName&quot;: null,
    &quot;type&quot;: null,
    &quot;capital&quot;: null,
    &quot;activityCode&quot;: null,
    &quot;sector_id&quot;: null,
    &quot;origin_id&quot;: null,
    &quot;mainAddressLine1&quot;: null,
    &quot;mainAddressLine2&quot;: null,
    &quot;mainAddressPostalCode&quot;: null,
    &quot;mainAddressCity&quot;: null,
    &quot;mainAddressCountry&quot;: null,
    &quot;emailAddress&quot;: null,
    &quot;accountEmailAddress&quot;: null,
    &quot;website&quot;: null,
    &quot;phone&quot;: null,
    &quot;mobilePhone&quot;: null,
    &quot;fax&quot;: null,
    &quot;logo&quot;: null,
    &quot;active&quot;: 1,
    &quot;activity&quot;: null,
    &quot;category&quot;: null,
    &quot;qualification&quot;: null,
    &quot;prospection_code_id&quot;: 1,
    &quot;isReseller&quot;: 0,
    &quot;resellerLevel&quot;: 0,
    &quot;language_id&quot;: 1,
    &quot;acceptEmails&quot;: 1,
    &quot;acceptCalls&quot;: 1,
    &quot;supplier&quot;: 0,
    &quot;chargeVAT&quot;: 1,
    &quot;applyVATAutoReverseOperators&quot;: 0,
    &quot;language&quot;: null,
    &quot;comment&quot;: null,
    &quot;mergeInvoices&quot;: 1,
    &quot;isGroupingAccount&quot;: 0,
    &quot;chargeGroupingAccount&quot;: null,
    &quot;isPayer&quot;: 0,
    &quot;ftp&quot;: 0,
    &quot;ftpServer&quot;: null,
    &quot;ftpUsername&quot;: null,
    &quot;ftpPassword&quot;: null,
    &quot;ftpHomeDirectory&quot;: null,
    &quot;ftpAccountId&quot;: null,
    &quot;ftpAssociatedEmail&quot;: null,
    &quot;quickSearch&quot;: null,
    &quot;suppliers&quot;: null,
    &quot;onCallDuty&quot;: 0,
    &quot;vip&quot;: 0,
    &quot;canSendSms&quot;: 0,
    &quot;smsAuthorisation&quot;: null,
    &quot;numberOfInvoices&quot;: 0,
    &quot;lastInvoice&quot;: null,
    &quot;quickSearchLabel&quot;: null,
    &quot;quickSearchIndex&quot;: 0,
    &quot;created_at&quot;: &quot;2020-08-04T10:42:27.000000Z&quot;,
    &quot;updated_at&quot;: &quot;2020-08-04T10:42:27.000000Z&quot;
  }
}
</code></pre>

<h3 id="get-a-customer-from-customeraccount">Get a customer (from customerAccount)</h3>
<p><strong>GET /api/v1/customerAccounts/{customerAccount}</strong></p>
<p>Same as previous, using the customerAccount as parameter instead of BlueRockTEL's customer id.</p>
<pre><code>curl --request GET \
  --url https://bluerockteladmin.test/api/v1/customerAccounts/123456 \
  --header 'authorization: Bearer {token}'
</code></pre>

<h3 id="update-a-customer">Update a customer</h3>
<p><strong>PUT /api/v1/customers/{customer}</strong></p>
<h4 id="parameters_2">Parameters:</h4>
<ul>
<li>customer*: customer id</li>
<li>brand_id: branding attached to this customer, default 1</li>
<li>representative_id: salesperson in charge of the customer</li>
<li>customerAccount: customerAccount, automatically created if not provided</li>
<li>accountsReference: reference in the accounting system, if different from customerAccount</li>
<li>name: name of the customer</li>
<li>brand: trading name of the customer, if exists</li>
<li>registrationNumber: registration number of the customer</li>
<li>taxRegistrationNumber: tax registration number of the customer</li>
<li>type: type of company</li>
<li>capital: capital in your currency,</li>
<li>mainAddressLine1</li>
<li>mainAddressLine2</li>
<li>mainAddressCity</li>
<li>mainAddressCountry</li>
<li>website</li>
<li>active: boolean, default <em>true</em></li>
<li>isReseller : boolean, default <em>false</em></li>
<li>resellerLevel: integer,</li>
<li>chargeVAT: boolean, default <em>true</em> (set to <em>false</em> if you are not charging VAT to this customer)</li>
<li>applyVATAutoReverseOperators: boolean, default false (set to <em>true</em> if you apply auto-reverse for VAT for this customer on Telecom services)</li>
<li>onCallDuty: boolean, default <em>false</em> (set to <em>true</em> if the customer is under on call duty contract)</li>
<li>vip: boolean, default <em>false</em> (set to <em>true</em> if customer is vip)</li>
</ul>
              
            </div>
          </div>
          
<footer>
    

    <hr/>

    <div role="contentinfo">
        <!-- Copyright etc -->
        
    </div>

    Built with Passion at <a href="https://bluerocktel.com/?utm_source=bluerocktel-api-documentation" target="_blank">BlueRockTEL</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
